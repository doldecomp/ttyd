.include "macros.inc"


.section .text, "ax"  # 0x800055E0 - 0x802C0EE0

.global battleSetUnitMonosiriFlag
battleSetUnitMonosiriFlag:
/* 80129848 00126848  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8012984C 0012684C  7C 08 02 A6 */	mflr r0
/* 80129850 00126850  3C 80 80 37 */	lis r4, lbl_8036BDD0@ha
/* 80129854 00126854  90 01 00 24 */	stw r0, 0x24(r1)
/* 80129858 00126858  38 A4 BD D0 */	addi r5, r4, lbl_8036BDD0@l
/* 8012985C 0012685C  BF 61 00 0C */	stmw r27, 0xc(r1)
/* 80129860 00126860  7C 7B 1B 78 */	mr r27, r3
/* 80129864 00126864  38 60 00 00 */	li r3, 0
/* 80129868 00126868  83 ED 17 10 */	lwz r31, lbl_80418970@sda21(r13)
lbl_8012986C:
/* 8012986C 0012686C  7F C5 18 2E */	lwzx r30, r5, r3
/* 80129870 00126870  28 1E 00 00 */	cmplwi r30, 0
/* 80129874 00126874  41 82 00 8C */	beq lbl_80129900
/* 80129878 00126878  38 80 00 00 */	li r4, 0
/* 8012987C 0012687C  48 00 00 70 */	b lbl_801298EC
lbl_80129880:
/* 80129880 00126880  7C 1B 00 00 */	cmpw r27, r0
/* 80129884 00126884  40 82 00 64 */	bne lbl_801298E8
/* 80129888 00126888  3B A0 00 00 */	li r29, 0
/* 8012988C 0012688C  3B 80 00 01 */	li r28, 1
/* 80129890 00126890  48 00 00 48 */	b lbl_801298D8
lbl_80129894:
/* 80129894 00126894  38 7B 11 7A */	addi r3, r27, 0x117a
/* 80129898 00126898  4B F5 B0 D9 */	bl swSet
/* 8012989C 0012689C  7F 63 2E 70 */	srawi r3, r27, 5
/* 801298A0 001268A0  57 60 D8 08 */	slwi r0, r27, 0x1b
/* 801298A4 001268A4  7C 83 01 94 */	addze r4, r3
/* 801298A8 001268A8  3B BD 00 04 */	addi r29, r29, 4
/* 801298AC 001268AC  57 63 0F FE */	srwi r3, r27, 0x1f
/* 801298B0 001268B0  54 84 10 3A */	slwi r4, r4, 2
/* 801298B4 001268B4  3C A4 00 01 */	addis r5, r4, 1
/* 801298B8 001268B8  7C 03 00 50 */	subf r0, r3, r0
/* 801298BC 001268BC  54 00 28 3E */	rotlwi r0, r0, 5
/* 801298C0 001268C0  38 A5 63 B8 */	addi r5, r5, 0x63b8
/* 801298C4 001268C4  7C 00 1A 14 */	add r0, r0, r3
/* 801298C8 001268C8  7C 9F 28 2E */	lwzx r4, r31, r5
/* 801298CC 001268CC  7F 80 00 30 */	slw r0, r28, r0
/* 801298D0 001268D0  7C 80 03 78 */	or r0, r4, r0
/* 801298D4 001268D4  7C 1F 29 2E */	stwx r0, r31, r5
lbl_801298D8:
/* 801298D8 001268D8  7F 7E E8 2E */	lwzx r27, r30, r29
/* 801298DC 001268DC  2C 1B 00 00 */	cmpwi r27, 0
/* 801298E0 001268E0  40 82 FF B4 */	bne lbl_80129894
/* 801298E4 001268E4  48 00 00 60 */	b lbl_80129944
lbl_801298E8:
/* 801298E8 001268E8  38 84 00 04 */	addi r4, r4, 4
lbl_801298EC:
/* 801298EC 001268EC  7C 1E 20 2E */	lwzx r0, r30, r4
/* 801298F0 001268F0  2C 00 00 00 */	cmpwi r0, 0
/* 801298F4 001268F4  40 82 FF 8C */	bne lbl_80129880
/* 801298F8 001268F8  38 63 00 04 */	addi r3, r3, 4
/* 801298FC 001268FC  4B FF FF 70 */	b lbl_8012986C
lbl_80129900:
/* 80129900 00126900  38 7B 11 7A */	addi r3, r27, 0x117a
/* 80129904 00126904  4B F5 B0 6D */	bl swSet
/* 80129908 00126908  7F 63 2E 70 */	srawi r3, r27, 5
/* 8012990C 0012690C  57 60 D8 08 */	slwi r0, r27, 0x1b
/* 80129910 00126910  7C 83 01 94 */	addze r4, r3
/* 80129914 00126914  57 63 0F FE */	srwi r3, r27, 0x1f
/* 80129918 00126918  7C 03 00 50 */	subf r0, r3, r0
/* 8012991C 0012691C  3C DF 00 01 */	addis r6, r31, 1
/* 80129920 00126920  54 85 10 3A */	slwi r5, r4, 2
/* 80129924 00126924  38 80 00 01 */	li r4, 1
/* 80129928 00126928  7C A6 2A 14 */	add r5, r6, r5
/* 8012992C 0012692C  54 00 28 3E */	rotlwi r0, r0, 5
/* 80129930 00126930  7C 00 1A 14 */	add r0, r0, r3
/* 80129934 00126934  80 65 63 B8 */	lwz r3, 0x63b8(r5)
/* 80129938 00126938  7C 80 00 30 */	slw r0, r4, r0
/* 8012993C 0012693C  7C 60 03 78 */	or r0, r3, r0
/* 80129940 00126940  90 05 63 B8 */	stw r0, 0x63b8(r5)
lbl_80129944:
/* 80129944 00126944  BB 61 00 0C */	lmw r27, 0xc(r1)
/* 80129948 00126948  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8012994C 0012694C  7C 08 03 A6 */	mtlr r0
/* 80129950 00126950  38 21 00 20 */	addi r1, r1, 0x20
/* 80129954 00126954  4E 80 00 20 */	blr 

.global battleCheckUnitMonosiriFlag
battleCheckUnitMonosiriFlag:
/* 80129958 00126958  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8012995C 0012695C  7C 08 02 A6 */	mflr r0
/* 80129960 00126960  90 01 00 24 */	stw r0, 0x24(r1)
/* 80129964 00126964  BF A1 00 14 */	stmw r29, 0x14(r1)
/* 80129968 00126968  7C 7F 1B 78 */	mr r31, r3
/* 8012996C 0012696C  83 CD 17 10 */	lwz r30, lbl_80418970@sda21(r13)
/* 80129970 00126970  83 A3 00 08 */	lwz r29, 8(r3)
/* 80129974 00126974  3C 7E 00 01 */	addis r3, r30, 1
/* 80129978 00126978  80 03 63 D8 */	lwz r0, 0x63d8(r3)
/* 8012997C 0012697C  54 00 07 BD */	rlwinm. r0, r0, 0, 0x1e, 0x1e
/* 80129980 00126980  41 82 00 0C */	beq lbl_8012998C
/* 80129984 00126984  38 60 00 01 */	li r3, 1
/* 80129988 00126988  48 00 00 A0 */	b lbl_80129A28
lbl_8012998C:
/* 8012998C 0012698C  38 7D 11 7A */	addi r3, r29, 0x117a
/* 80129990 00126990  4B F5 AF 99 */	bl swGet
/* 80129994 00126994  80 1F 00 1C */	lwz r0, 0x1c(r31)
/* 80129998 00126998  7F A4 2E 70 */	srawi r4, r29, 5
/* 8012999C 0012699C  7C C4 01 94 */	addze r6, r4
/* 801299A0 001269A0  57 A5 0F FE */	srwi r5, r29, 0x1f
/* 801299A4 001269A4  57 A4 D8 08 */	slwi r4, r29, 0x1b
/* 801299A8 001269A8  54 00 07 7B */	rlwinm. r0, r0, 0, 0x1d, 0x1d
/* 801299AC 001269AC  54 C7 10 3A */	slwi r7, r6, 2
/* 801299B0 001269B0  3D 1E 00 01 */	addis r8, r30, 1
/* 801299B4 001269B4  7C 85 20 50 */	subf r4, r5, r4
/* 801299B8 001269B8  38 C0 00 01 */	li r6, 1
/* 801299BC 001269BC  54 80 28 3E */	rotlwi r0, r4, 5
/* 801299C0 001269C0  7C E8 3A 14 */	add r7, r8, r7
/* 801299C4 001269C4  7C 00 2A 14 */	add r0, r0, r5
/* 801299C8 001269C8  80 87 63 B8 */	lwz r4, 0x63b8(r7)
/* 801299CC 001269CC  7C C0 00 30 */	slw r0, r6, r0
/* 801299D0 001269D0  7C 80 00 38 */	and r0, r4, r0
/* 801299D4 001269D4  7C 67 03 78 */	or r7, r3, r0
/* 801299D8 001269D8  41 82 00 3C */	beq lbl_80129A14
/* 801299DC 001269DC  80 BF 00 04 */	lwz r5, 4(r31)
/* 801299E0 001269E0  7C A3 2E 70 */	srawi r3, r5, 5
/* 801299E4 001269E4  54 A0 D8 08 */	slwi r0, r5, 0x1b
/* 801299E8 001269E8  7C 83 01 94 */	addze r4, r3
/* 801299EC 001269EC  54 A3 0F FE */	srwi r3, r5, 0x1f
/* 801299F0 001269F0  54 84 10 3A */	slwi r4, r4, 2
/* 801299F4 001269F4  7C 03 00 50 */	subf r0, r3, r0
/* 801299F8 001269F8  7C 88 22 14 */	add r4, r8, r4
/* 801299FC 001269FC  54 00 28 3E */	rotlwi r0, r0, 5
/* 80129A00 00126A00  80 84 63 B8 */	lwz r4, 0x63b8(r4)
/* 80129A04 00126A04  7C 00 1A 14 */	add r0, r0, r3
/* 80129A08 00126A08  7C C0 00 30 */	slw r0, r6, r0
/* 80129A0C 00126A0C  7C 80 00 38 */	and r0, r4, r0
/* 80129A10 00126A10  7C E7 03 78 */	or r7, r7, r0
lbl_80129A14:
/* 80129A14 00126A14  2C 07 00 00 */	cmpwi r7, 0
/* 80129A18 00126A18  41 82 00 0C */	beq lbl_80129A24
/* 80129A1C 00126A1C  38 60 00 01 */	li r3, 1
/* 80129A20 00126A20  48 00 00 08 */	b lbl_80129A28
lbl_80129A24:
/* 80129A24 00126A24  38 60 00 00 */	li r3, 0
lbl_80129A28:
/* 80129A28 00126A28  BB A1 00 14 */	lmw r29, 0x14(r1)
/* 80129A2C 00126A2C  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80129A30 00126A30  7C 08 03 A6 */	mtlr r0
/* 80129A34 00126A34  38 21 00 20 */	addi r1, r1, 0x20
/* 80129A38 00126A38  4E 80 00 20 */	blr 

.global battleGetUnitMonosiriPtr
battleGetUnitMonosiriPtr:
/* 80129A3C 00126A3C  1C 83 00 18 */	mulli r4, r3, 0x18
/* 80129A40 00126A40  3C 60 80 37 */	lis r3, lbl_8036A5B8@ha
/* 80129A44 00126A44  38 03 A5 B8 */	addi r0, r3, lbl_8036A5B8@l
/* 80129A48 00126A48  7C 60 22 14 */	add r3, r0, r4
/* 80129A4C 00126A4C  4E 80 00 20 */	blr 
